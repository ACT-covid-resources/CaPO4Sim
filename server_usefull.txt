######## Shiny App server #############

rm -r mydir
mkdir mydir

 rm -rf * remove every files from a folder

## SSH keys ##

sudo chmod 600 /Users/macdavidgranjon/Desktop/shinycap.pem
ssh-add /Users/macdavidgranjon/Desktop/shinycap.pem # to have authorization

## SSH key ##

scp -r /Users/macdavidgranjon/Documents/WebApp_CaP_homeostasis/global_app/* ubuntu@130.60.24.79:/srv/shiny-server/capApp/global_app

scp -r /Users/macdavidgranjon/Documents/WebApp_CaP_homeostasis/global_app_V2/* ubuntu@130.60.24.79:/srv/shiny-server/capApp/global_app_V2

scp -r /Users/macdavidgranjon/Documents/WebApp_CaP_homeostasis/case_studies_app/* ubuntu@130.60.24.79:/srv/shiny-server/capApp/case_studies_app

scp -r /Users/macdavidgranjon/Documents/WebApp_CaP_homeostasis/treatments_app/* ubuntu@130.60.24.79:/srv/shiny-server/capApp/treatments_app

Very important: do not forget to replace all local folders by the server folders:

path_to_calc_change_base <- "/srv/shiny-server/capApp/global_app/www/calc_change_base.csv"


scp -r /Users/macdavidgranjon/Movies/2017-10-31\ 17-05-43.mp4 ubuntu@130.60.24.77:/srv/shiny-server/tutorials
scp -r /Users/macdavidgranjon/Documents/WebApp_CaP_homeostasis/case_studies_app/* ubuntu@130.60.24.77:/srv/shiny-server/case_studies_app_V2


deb https://pbil.univ-lyon1.fr/CRAN/ /bin/linux/ubuntu trusty/ # last version of R for 14.04
  
######### Apache server ###############
# copy files in /var/www/html

do not forget to create a HTTP rule on the virtual machine to allow HTTP protocol on port 80 (and maybe HTTPS on 443)

sudo chown -R ubuntu:ubuntu /var/www/html # change the permission in case scp fails and also change var/www/html to the accurate folder if required
scp -r /Users/macdavidgranjon/Documents/NCCR_CaP_webserver/public/* ubuntu@130.60.24.78:/var/www/html # do not forget the * to copy all files

ssh ubuntu@130.60.24.78 -Y # allow for X11 display


####### Git repository ###############

/usr/local/git/bin/git # use it to link toward the good git

git reset --hard <sha1-commit-id> (to go back to the following commit in case of emergency)
git diff-tree --no-commit-id --name-only -r <sha1-commit-id> (see all staged files in a commit)
git reset HEAD~ (unstage all files from the last commit)


######### Website CSS ################

www-header{background-image:linear-gradient(90deg,#046ed8 0,#2b82d8) make in blue instead of red
ampstart-footer:before{content:"";position:absolute;width:100%;height:35px;background-image:linear-gradient(90deg,#046ed8 0,#2b82d8)

########### R packages ############

devtools::install_github("timelyportfolio/sweetalertR")
devtools::install_github("ijlyttle/bsplus")
devtools::install_github("carlganz/rintrojs")


########### Server Willy Virtual Kidney ##############
scp -r /Users/macdavidgranjon/Desktop/WebGLBuild/* ubuntu@172.23.172.211:/srv/shiny-server/WebGLBuild
sudo chown -R ubuntu:ubuntu /srv/shiny-server/WebGLBuild


########### Use Microsoft remote desktop ############
connection names: rds_vartan
pc name: srv30001.physiol.win2000.unizh.ch
user name: dgranj

########### Shiny load test ###############

node lib/main.js record -t 'http://130.60.24.77:3838/global_app_V2.2/' > app-recording.txt
node lib/main.js playback

########## Modify package source ##########

1. download package sources: install.packages("shiny", type = "source")
2. Go to: /private/var/folders/80/tt_3189x7gvc6y_6_ml_jwj80000gn/T/RtmpE8cmFR/downloaded_packages/
3. then unzip it and modify what you want
4. rezip the file: tar -zcvf shiny_1.0.5.tar.gz shiny_update
5. still in the same directory, run in a terminal R CMD INSTALL shiny.tar.gz or in R install.packages(<pathtopackage>, repos = NULL, type="source")

To change slider theme in shiny, replace the theme used in bootstrap.R

Make a copy of the real package before is better

